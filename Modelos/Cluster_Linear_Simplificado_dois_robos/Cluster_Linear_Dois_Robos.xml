<?xml version="1.0" encoding="utf-8"?><!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd'><nta><declaration>clock x1,x2,x3,x4,Global,g;

chan a1_L, a1_B, a1_C1, b1_L, b1_B, b1_C1;
chan a2_B, a2_C2, b2_B, b2_C2;

/////////////////////Variáveis////////////////////////
int Prod:=0;			//Numero de Produções
int w:=0;			//Contagem de Eventos

/////////////Estado dos Robos/////////////////////////

int k1:=0; 			//Estado do robo 1
int k2:=0; 			//Estado do robo 2

////////////////////Proceso//////////////////////////
int flag[6] = {0,0,0,0,0,0}; //Estado dos componentes da planta

int PID_R1:=0; 			//Indica o que o robo 1 esta segurando
int PID_R2:=1; 			//Indica o que o robo 2 esta segurando
int PID_LEL:=2; 		//Indica o que o há no LEL
int PID_PC1:=3;			//Indica o que o há no PC1
int PID_PC2:=4;			//Indica o que o há no PC2
int PID_B:=5;			//Indica o que o há no Buffer

//////////Valores de PID de para cada peça//////////
// 0 - vazio
// 1 - Material Novo
// 2 - Material Processado no PC1
// 3 - Material Processado no PC2
</declaration><template><name x="5" y="5">SpecS_1_LEL</name><declaration>// Place local declarations here.
</declaration><location id="id0" x="-368" y="-176"><name x="-376" y="-208">S1</name><label kind="invariant" x="-400" y="-168">x1&lt;=1</label></location><location id="id1" x="16" y="-176"><name x="8" y="-208">S2</name><label kind="invariant" x="8" y="-168">x1&lt;=1</label></location><location id="id2" x="-176" y="-176"><name x="-184" y="-208">S0</name></location><init ref="id2"/><transition controllable="false" action=""><source ref="id1"/><target ref="id2"/><label kind="guard" x="-152" y="-152">x1==1</label><label kind="assignment" x="-152" y="-136">flag[PID_R1]:=0,
k1:=0,
Prod:=Prod+1</label><nail x="-8" y="-152"/><nail x="-152" y="-152"/></transition><transition action=""><source ref="id2"/><target ref="id1"/><label kind="guard" x="-152" y="-272">flag[PID_R1]==3 &amp;&amp;
k1==0</label><label kind="synchronisation" x="-152" y="-240">b1_L?</label><label kind="assignment" x="-152" y="-224">k1:=1, x1:=0</label><nail x="-160" y="-200"/><nail x="-8" y="-200"/></transition><transition controllable="false" action=""><source ref="id0"/><target ref="id2"/><label kind="guard" x="-352" y="-256">x1==1</label><label kind="assignment" x="-352" y="-240">flag[PID_R1]:=1,
k1:=0</label><nail x="-344" y="-200"/><nail x="-192" y="-200"/></transition><transition action=""><source ref="id2"/><target ref="id0"/><label kind="guard" x="-352" y="-144">flag[PID_R1]==0 &amp;&amp;
k1==0</label><label kind="synchronisation" x="-352" y="-112">a1_L?</label><label kind="assignment" x="-352" y="-96">k1:=1, x1:=0</label><nail x="-192" y="-152"/><nail x="-344" y="-152"/></transition></template><template><name x="5" y="5">SpecS_2_PC1</name><declaration>// Place local declarations here.
</declaration><location id="id3" x="-176" y="-272"><name x="-200" y="-264">S4</name><label kind="invariant" x="-160" y="-288">x2&lt;=1</label></location><location id="id4" x="-272" y="-336"><name x="-280" y="-320">S3</name></location><location id="id5" x="-368" y="-272"><name x="-360" y="-264">S2</name><label kind="invariant" x="-432" y="-288">x2&lt;=12</label></location><location id="id6" x="-368" y="-176"><name x="-360" y="-208">S1</name><label kind="invariant" x="-400" y="-168">x2&lt;=1</label></location><location id="id7" x="-176" y="-176"><name x="-200" y="-208">S0</name></location><init ref="id7"/><transition controllable="false" action=""><source ref="id3"/><target ref="id7"/><label kind="guard" x="-168" y="-256">x2==1</label><label kind="assignment" x="-168" y="-240">flag[PID_R1]:=2,
flag[PID_PC1]:=0,
k1:=0</label></transition><transition action=""><source ref="id4"/><target ref="id3"/><label kind="guard" x="-224" y="-384">flag[PID_R1]==0 &amp;&amp;
flag[PID_PC1]==2 &amp;&amp;
k1==0</label><label kind="synchronisation" x="-224" y="-336">a1_C1?</label><label kind="assignment" x="-224" y="-320">k1:=1, x2:=0</label></transition><transition controllable="false" action=""><source ref="id5"/><target ref="id4"/><label kind="guard" x="-440" y="-336">x2==12</label><label kind="assignment" x="-440" y="-320">flag[PID_PC1]:=2</label></transition><transition controllable="false" action=""><source ref="id6"/><target ref="id5"/><label kind="guard" x="-488" y="-256">x2==1</label><label kind="assignment" x="-488" y="-240">flag[PID_R1]:=0,
flag[PID_PC1]:=1,
k1:=0, x2:=0</label></transition><transition action=""><source ref="id7"/><target ref="id6"/><label kind="guard" x="-352" y="-168">flag[PID_R1]==1 &amp;&amp;
flag[PID_PC1]==0 &amp;&amp;
k1==0</label><label kind="synchronisation" x="-352" y="-120">b1_C1?</label><label kind="assignment" x="-352" y="-104">k1:=1, x2:=0</label><nail x="-192" y="-176"/><nail x="-344" y="-176"/></transition></template><template><name x="5" y="5">SpecS_3_PC2</name><declaration>// Place local declarations here.
</declaration><location id="id8" x="-176" y="-272"><name x="-200" y="-264">S4</name><label kind="invariant" x="-160" y="-288">x3&lt;=1</label></location><location id="id9" x="-272" y="-336"><name x="-280" y="-320">S3</name></location><location id="id10" x="-368" y="-272"><name x="-360" y="-264">S2</name><label kind="invariant" x="-432" y="-288">x3&lt;=12</label></location><location id="id11" x="-368" y="-176"><name x="-360" y="-208">S1</name><label kind="invariant" x="-400" y="-168">x3&lt;=1</label></location><location id="id12" x="-176" y="-176"><name x="-200" y="-208">S0</name></location><init ref="id12"/><transition controllable="false" action=""><source ref="id8"/><target ref="id12"/><label kind="guard" x="-168" y="-256">x3==1</label><label kind="assignment" x="-168" y="-240">flag[PID_R2]:=3,
flag[PID_PC2]:=0,
k2:=0</label></transition><transition action=""><source ref="id9"/><target ref="id8"/><label kind="guard" x="-224" y="-384">flag[PID_R2]==0 &amp;&amp;
flag[PID_PC2]==3 &amp;&amp;
k2==0</label><label kind="synchronisation" x="-224" y="-336">a2_C2?</label><label kind="assignment" x="-224" y="-320">k2:=1, x3:=0</label></transition><transition controllable="false" action=""><source ref="id10"/><target ref="id9"/><label kind="guard" x="-440" y="-336">x3==12</label><label kind="assignment" x="-440" y="-320">flag[PID_PC2]:=3</label></transition><transition controllable="false" action=""><source ref="id11"/><target ref="id10"/><label kind="guard" x="-488" y="-256">x3==1</label><label kind="assignment" x="-488" y="-240">flag[PID_R2]:=0,
flag[PID_PC2]:=2,
k2:=0, x3:=0</label></transition><transition action=""><source ref="id12"/><target ref="id11"/><label kind="guard" x="-352" y="-168">flag[PID_R2]==2 &amp;&amp;
flag[PID_PC2]==0 &amp;&amp;
k2==0</label><label kind="synchronisation" x="-352" y="-120">b2_C2?</label><label kind="assignment" x="-352" y="-104">k2:=1, x3:=0</label><nail x="-192" y="-176"/><nail x="-344" y="-176"/></transition></template><template><name x="5" y="5">SpecS_4_Buffer_a</name><declaration>// Place local declarations here.
</declaration><location id="id13" x="-368" y="-176"><name x="-376" y="-208">S1</name><label kind="invariant" x="-400" y="-168">x4&lt;=1</label></location><location id="id14" x="16" y="-176"><name x="8" y="-208">S2</name><label kind="invariant" x="8" y="-168">x4&lt;=1</label></location><location id="id15" x="-176" y="-176"><name x="-184" y="-208">S0</name></location><init ref="id15"/><transition controllable="false" action=""><source ref="id14"/><target ref="id15"/><label kind="guard" x="-152" y="-152">x4==1</label><label kind="assignment" x="-152" y="-136">flag[PID_R2]:=2,
flag[PID_B]:=0,
k2:=0</label><nail x="-8" y="-152"/><nail x="-152" y="-152"/></transition><transition action=""><source ref="id15"/><target ref="id14"/><label kind="guard" x="-152" y="-288">flag[PID_R2]==0 &amp;&amp;
flag[PID_B]==2 &amp;&amp;
k2==0</label><label kind="synchronisation" x="-152" y="-240">a2_B?</label><label kind="assignment" x="-152" y="-224">k2:=1, x4:=0</label><nail x="-160" y="-200"/><nail x="-8" y="-200"/></transition><transition controllable="false" action=""><source ref="id13"/><target ref="id15"/><label kind="guard" x="-352" y="-272">x4==1</label><label kind="assignment" x="-352" y="-256">flag[PID_R1]:=3,
flag[PID_B]:=0,
k1:=0</label><nail x="-344" y="-200"/><nail x="-192" y="-200"/></transition><transition action=""><source ref="id15"/><target ref="id13"/><label kind="guard" x="-352" y="-144">flag[PID_R1]==0 &amp;&amp;
flag[PID_B]==3 &amp;&amp;
k1==0</label><label kind="synchronisation" x="-352" y="-96">a1_B?</label><label kind="assignment" x="-352" y="-80">k1:=1, x4:=0</label><nail x="-192" y="-152"/><nail x="-344" y="-152"/></transition></template><template><name x="5" y="5">SpecS_5_Buffer_b</name><declaration>// Place local declarations here.
</declaration><location id="id16" x="-368" y="-176"><name x="-376" y="-208">S1</name><label kind="invariant" x="-400" y="-168">x4&lt;=1</label></location><location id="id17" x="16" y="-176"><name x="8" y="-208">S2</name><label kind="invariant" x="8" y="-168">x4&lt;=1</label></location><location id="id18" x="-176" y="-176"><name x="-184" y="-208">S0</name></location><init ref="id18"/><transition controllable="false" action=""><source ref="id17"/><target ref="id18"/><label kind="guard" x="-152" y="-152">x4==1</label><label kind="assignment" x="-152" y="-136">flag[PID_R2]:=0,
flag[PID_B]:=3,
k2:=0</label><nail x="-8" y="-152"/><nail x="-152" y="-152"/></transition><transition action=""><source ref="id18"/><target ref="id17"/><label kind="guard" x="-152" y="-288">flag[PID_R2]==3 &amp;&amp;
flag[PID_B]==0 &amp;&amp;
k2==0</label><label kind="synchronisation" x="-152" y="-240">b2_B?</label><label kind="assignment" x="-152" y="-224">k2:=1, x4:=0</label><nail x="-160" y="-200"/><nail x="-8" y="-200"/></transition><transition controllable="false" action=""><source ref="id16"/><target ref="id18"/><label kind="guard" x="-352" y="-272">x4==1</label><label kind="assignment" x="-352" y="-256">flag[PID_R1]:=0,
flag[PID_B]:=2,
k1:=0</label><nail x="-344" y="-200"/><nail x="-192" y="-200"/></transition><transition action=""><source ref="id18"/><target ref="id16"/><label kind="guard" x="-352" y="-144">flag[PID_R1]==2 &amp;&amp;
flag[PID_B]==0 &amp;&amp;
k1==0</label><label kind="synchronisation" x="-352" y="-96">b1_B?</label><label kind="assignment" x="-352" y="-80">k1:=1, x4:=0</label><nail x="-192" y="-152"/><nail x="-344" y="-152"/></transition></template><template><name>SpecC_1</name><location id="id19" x="-80" y="-208"><name x="-88" y="-192">S0</name></location><init ref="id19"/><transition action=""><source ref="id19"/><target ref="id19"/><label kind="synchronisation" x="-32" y="-232">a1_B!</label><label kind="assignment" x="-32" y="-216">w:=w+1</label><nail x="-40" y="-176"/><nail x="-40" y="-240"/></transition><transition action=""><source ref="id19"/><target ref="id19"/><label kind="synchronisation" x="-176" y="-232">a1_C1!</label><label kind="assignment" x="-176" y="-216">w:=w+1</label><nail x="-120" y="-176"/><nail x="-120" y="-240"/></transition><transition action=""><source ref="id19"/><target ref="id19"/><label kind="synchronisation" x="-104" y="-288">a1_L!</label><label kind="assignment" x="-104" y="-272">w:=w+1</label><nail x="-112" y="-248"/><nail x="-48" y="-248"/></transition></template><template><name>SpecC_2</name><location id="id20" x="-80" y="-208"><name x="-88" y="-192">S0</name></location><init ref="id20"/><transition action=""><source ref="id20"/><target ref="id20"/><label kind="synchronisation" x="-32" y="-232">b1_B!</label><label kind="assignment" x="-32" y="-216">w:=w+1</label><nail x="-40" y="-176"/><nail x="-40" y="-240"/></transition><transition action=""><source ref="id20"/><target ref="id20"/><label kind="synchronisation" x="-176" y="-232">b1_C1!</label><label kind="assignment" x="-176" y="-216">w:=w+1</label><nail x="-120" y="-176"/><nail x="-120" y="-240"/></transition><transition action=""><source ref="id20"/><target ref="id20"/><label kind="synchronisation" x="-104" y="-288">b1_L!</label><label kind="assignment" x="-104" y="-272">w:=w+1</label><nail x="-112" y="-248"/><nail x="-48" y="-248"/></transition></template><template><name>SpecC_3</name><location id="id21" x="-80" y="-208"><name x="-88" y="-192">S0</name></location><init ref="id21"/><transition action=""><source ref="id21"/><target ref="id21"/><label kind="synchronisation" x="-104" y="-168">b2_C2!</label><label kind="assignment" x="-104" y="-152">w:=w+1</label><nail x="-112" y="-168"/><nail x="-48" y="-168"/></transition><transition action=""><source ref="id21"/><target ref="id21"/><label kind="synchronisation" x="-32" y="-232">b2_B!</label><label kind="assignment" x="-32" y="-216">w:=w+1</label><nail x="-40" y="-176"/><nail x="-40" y="-240"/></transition><transition action=""><source ref="id21"/><target ref="id21"/><label kind="synchronisation" x="-176" y="-232">a2_B!</label><label kind="assignment" x="-176" y="-216">w:=w+1</label><nail x="-120" y="-176"/><nail x="-120" y="-240"/></transition><transition action=""><source ref="id21"/><target ref="id21"/><label kind="synchronisation" x="-104" y="-288">a2_C2!</label><label kind="assignment" x="-104" y="-272">w:=w+1</label><nail x="-112" y="-248"/><nail x="-48" y="-248"/></transition></template><template><name>Controller</name><location id="id22" x="0" y="0"><name x="16" y="-8">S0</name></location><location id="id23" x="0" y="64"><name x="16" y="56">S1</name></location><location id="id24" x="0" y="128"><name x="16" y="120">S2</name></location><location id="id25" x="0" y="192"><name x="16" y="184">S3</name></location><location id="id26" x="0" y="256"><name x="16" y="248">S4</name></location><location id="id27" x="0" y="320"><name x="16" y="312">S5</name></location><location id="id28" x="0" y="384"><name x="16" y="376">S6</name></location><location id="id29" x="0" y="448"><name x="16" y="440">S7</name></location><location id="id30" x="0" y="512"><name x="16" y="504">S8</name></location><location id="id31" x="0" y="576"><name x="16" y="568">S9</name></location><location id="id32" x="0" y="640"><name x="16" y="632">S10</name></location><location id="id33" x="0" y="704"><name x="16" y="696">S11</name></location><location id="id34" x="0" y="768"><name x="16" y="760">S12</name></location><location id="id35" x="416" y="768"><name x="432" y="760">S13</name></location><location id="id36" x="416" y="704"><name x="432" y="696">S14</name></location><location id="id37" x="416" y="640"><name x="432" y="632">S15</name></location><location id="id38" x="416" y="576"><name x="432" y="568">S16</name></location><location id="id39" x="416" y="512"><name x="432" y="504">S17</name></location><location id="id40" x="416" y="448"><name x="432" y="440">S18</name></location><location id="id41" x="416" y="384"><name x="432" y="376">S19</name></location><location id="id42" x="416" y="320"><name x="432" y="312">S20</name></location><location id="id43" x="416" y="256"><name x="432" y="248">S21</name></location><location id="id44" x="416" y="192"><name x="432" y="184">S22</name></location><location id="id45" x="416" y="128"><name x="432" y="120">S23</name></location><location id="id46" x="416" y="64"><name x="432" y="56">S24</name></location><location id="id47" x="416" y="0"><name x="432" y="-8">S25</name></location><location id="id48" x="832" y="0"><name x="848" y="-8">S26</name></location><location id="id49" x="832" y="64"><name x="848" y="56">S27</name></location><location id="id50" x="832" y="128"><name x="848" y="120">S28</name></location><location id="id51" x="832" y="192"><name x="848" y="184">S29</name></location><location id="id52" x="832" y="256"><name x="848" y="248">S30</name></location><location id="id53" x="832" y="320"><name x="848" y="312">S31</name></location><init ref="id22"/><transition action=""><source ref="id39"/><target ref="id30"/><label kind="guard" x="148" y="482">x2-Global==-37 &amp;&amp; Global==37</label><label kind="synchronisation" x="148" y="497">b2_C2!</label><label kind="assignment" x="148" y="512">Global:=17</label></transition><transition action=""><source ref="id22"/><target ref="id23"/><label kind="guard" x="-64" y="23">Global==0</label><label kind="synchronisation" x="-64" y="36">a1_L!</label></transition><transition action=""><source ref="id23"/><target ref="id24"/><label kind="guard" x="-64" y="75">Global==1</label><label kind="synchronisation" x="-64" y="88">b1_C1!</label></transition><transition action=""><source ref="id24"/><target ref="id25"/><label kind="guard" x="-64" y="139">Global==14</label><label kind="synchronisation" x="-64" y="152">a1_C1!</label></transition><transition action=""><source ref="id25"/><target ref="id26"/><label kind="guard" x="-64" y="203">Global==15</label><label kind="synchronisation" x="-64" y="216">b1_B!</label></transition><transition action=""><source ref="id26"/><target ref="id27"/><label kind="guard" x="-64" y="264">Global==16</label><label kind="synchronisation" x="-64" y="277">a1_L!</label></transition><transition action=""><source ref="id27"/><target ref="id28"/><label kind="guard" x="-64" y="320">x1-Global==-16 &amp;&amp; Global==16</label><label kind="synchronisation" x="-64" y="333">a2_B!</label></transition><transition action=""><source ref="id28"/><target ref="id29"/><label kind="guard" x="-64" y="400">Global==17</label><label kind="synchronisation" x="-64" y="413">b1_C1!</label></transition><transition action=""><source ref="id29"/><target ref="id30"/><label kind="guard" x="-64" y="456">x2-Global==-17 &amp;&amp; Global==17</label><label kind="synchronisation" x="-64" y="469">b2_C2!</label></transition><transition action=""><source ref="id30"/><target ref="id31"/><label kind="guard" x="-64" y="523">Global==30</label><label kind="synchronisation" x="-64" y="536">a2_C2!</label></transition><transition action=""><source ref="id31"/><target ref="id32"/><label kind="guard" x="-64" y="587">Global==31</label><label kind="synchronisation" x="-64" y="600">b2_B!</label></transition><transition action=""><source ref="id32"/><target ref="id33"/><label kind="guard" x="-64" y="651">Global==32</label><label kind="synchronisation" x="-64" y="664">a1_B!</label></transition><transition action=""><source ref="id33"/><target ref="id34"/><label kind="guard" x="-64" y="720">Global==33</label><label kind="synchronisation" x="-64" y="733">b1_L!</label></transition><transition action=""><source ref="id34"/><target ref="id35"/><label kind="guard" x="144" y="771">Global==34</label><label kind="synchronisation" x="144" y="784">a1_C1!</label></transition><transition action=""><source ref="id35"/><target ref="id36"/><label kind="guard" x="360" y="723">Global==35</label><label kind="synchronisation" x="360" y="736">b1_B!</label></transition><transition action=""><source ref="id36"/><target ref="id37"/><label kind="guard" x="360" y="651">Global==36</label><label kind="synchronisation" x="360" y="664">a1_L!</label></transition><transition action=""><source ref="id37"/><target ref="id38"/><label kind="guard" x="360" y="592">x1-Global==-36 &amp;&amp; Global==36</label><label kind="synchronisation" x="360" y="605">a2_B!</label></transition><transition action=""><source ref="id38"/><target ref="id39"/><label kind="guard" x="360" y="531">Global==37</label><label kind="synchronisation" x="360" y="544">b1_C1!</label></transition><transition action=""><source ref="id39"/><target ref="id40"/><label kind="guard" x="360" y="459">x2-Global==-37 &amp;&amp; Global==37</label><label kind="synchronisation" x="360" y="472">b2_C2!</label></transition><transition action=""><source ref="id40"/><target ref="id41"/><label kind="guard" x="360" y="403">Global==50</label><label kind="synchronisation" x="360" y="416">a2_C2!</label></transition><transition action=""><source ref="id41"/><target ref="id42"/><label kind="guard" x="360" y="331">Global==51</label><label kind="synchronisation" x="360" y="344">b2_B!</label></transition><transition action=""><source ref="id42"/><target ref="id43"/><label kind="guard" x="360" y="275">Global==52</label><label kind="synchronisation" x="360" y="288">a1_B!</label></transition><transition action=""><source ref="id43"/><target ref="id44"/><label kind="guard" x="360" y="211">Global==53</label><label kind="synchronisation" x="360" y="224">b1_L!</label></transition><transition action=""><source ref="id44"/><target ref="id45"/><label kind="guard" x="360" y="147">Global==54</label><label kind="synchronisation" x="360" y="160">a1_C1!</label></transition><transition action=""><source ref="id45"/><target ref="id46"/><label kind="guard" x="360" y="83">Global==55</label><label kind="synchronisation" x="360" y="96">b1_B!</label></transition><transition action=""><source ref="id46"/><target ref="id47"/><label kind="guard" x="360" y="24">Global==56</label><label kind="synchronisation" x="360" y="37">a2_B!</label></transition><transition action=""><source ref="id47"/><target ref="id48"/><label kind="guard" x="576" y="-37">Global==57</label><label kind="synchronisation" x="576" y="-24">b2_C2!</label></transition><transition action=""><source ref="id48"/><target ref="id49"/><label kind="guard" x="776" y="16">Global==70</label><label kind="synchronisation" x="776" y="29">a2_C2!</label></transition><transition action=""><source ref="id49"/><target ref="id50"/><label kind="guard" x="776" y="75">Global==71</label><label kind="synchronisation" x="776" y="88">b2_B!</label></transition><transition action=""><source ref="id50"/><target ref="id51"/><label kind="guard" x="776" y="139">Global==72</label><label kind="synchronisation" x="776" y="152">a1_B!</label></transition><transition action=""><source ref="id51"/><target ref="id52"/><label kind="guard" x="776" y="200">Global==73</label><label kind="synchronisation" x="776" y="213">b1_L!</label></transition><transition action=""><source ref="id52"/><target ref="id53"/><label kind="guard" x="776" y="264">Global==74</label><label kind="synchronisation" x="776" y="277">a1_L!</label></transition></template><system>system 

SpecS_1_LEL,
SpecS_2_PC1,
SpecS_3_PC2,
SpecS_4_Buffer_a,
SpecS_5_Buffer_b,

//SpecC_1,
//SpecC_2,
//SpecC_3;

Controller;</system></nta>